
# coding: utf-8

# In[2]:


import numpy as np
import random as ran
import time,sys,csv


# In[5]:


def s(x):
    return 1/(1+np.e**(-1*x))


# In[ ]:


raw_data = sys.argv[1]
test_data = sys.argv[2]
train_feature = sys.argv[3]
train_label = sys.argv[4]
test_feature = sys.argv[5]
pred = sys.argv[6]


# In[7]:


w=[1.5063041055469553, -1.352027965297452, -0.4866936495771873, 27.192838523474204, 2.778840790788251, 1.920954616522766, -1.2209111202740082, -1.8991261387916938, -7.091909806810847, -1.733693251225667, -1.4808318868435837, -2.16889853500775, -2.059974068188484, -8.962096125196776, -2.8958515162197367, -1.138113336468849, -1.0878293042887257, -0.6879128747163655, -1.5147359962698796, -1.4394564913721928, -1.5570168403894808, -1.344101177184934, 0.0829427720004291, 0.10261773520915735, 0.6853355751195517, 1.8010277681601106, -0.40991365895953763, 1.058120512050199, -7.251987497991995, 1.5658663761003886, -0.0699886613475692, -5.366730216412015, -3.209058401262847, -3.649749956382995, -5.363812742587419, -5.911851043576946, -5.541850205975507, -5.1497582372661395, 0.7001005310544516, -0.49165563740803375, 0.7631670407292983, 1.5119908711952839, -0.1932419140917677, -0.016772620906842593, 0.40483340948854385, -0.15429065075740792, -3.512409637512022, 1.2303713178306268, 1.2814161742786028, 1.0066610427962641, 1.3319308654919804, 0.6227459402456497, 1.2164771305699644, -0.582612623515165, -0.45004921798234937, -1.2280200337776062, -2.2539589101103332, -0.6123657501334414, 0.6728996382871951, 2.6985737366276186, 3.3937556696208477, 3.165587620640763, 2.846488500187628, 3.3026741378084075, -2.0978637320462026, -2.9909529929836607, -4.015112348582369, -5.231283462712002, -2.9369676117873476, -5.187915936618948, -3.6358404148065726, -3.9555805420153334, -3.0027713377918386, -2.7051406158914126, -2.906799100015772, -4.197475262269181, -3.675455726791248, -3.4258481104316822, -4.650030408164076, -4.620818081961994, -3.512223633421044, -3.402193853715719, -3.762330655258109, -3.320914330038071, -2.885509957653684, -2.4694962491744397, -3.351689775947994, -2.9028946549792627, -3.9662827655813024, -3.9918477328456152, -4.21668530725555, -9.858148678553857, -4.193243945935498, -2.8838397833861027, -3.3247908776700283, -3.4517593483466342, -3.6405737473452855, -3.275129493478712, -4.350284760366103, -3.400788810442189, -3.8060381482267913, -3.7156645773668147, -3.1333252645172833, -4.477903624101012, -2.596436277491577, -3.5215828705526064, 3.5002220594467075]


# In[3]:


te=open(sys.argv[5],"r",encoding="utf8")
test=te.read()
#train=train.replace("NR",'0')
test1=test.split("\n")
test1=test1[1:-1]
test2=[]

for i in range(len(test1)):
    test2.append(test1[i].split(","))
    if test2[i][2]=='1': 
        test2[i][1]='0'
    elif test2[i][2]=='0':
        test2[i][1]='1'
    else:
        print(i)
for i in range(len(test2)):
    test2[i].append(1)
    for n in range(len(test2[0])):
        test2[i][n]=float(test2[i][n])  
x2=np.asarray(test2,dtype=float)
m=[99, 0, 0, 99999.0, 4356.0, 99.0]
for i in range(len(x2)):
    for n in [0,3,4,5]:
        x2[i][n]/=m[n]


# In[8]:


fin=s(np.dot(x2,w))


# In[9]:


for i in range(16281):
    if fin[i]>0.5:
        fin[i]=1
    else:
        fin[i]=0


# In[ ]:


sub=open(sys.argv[6],"w",encoding="BIG5")
sub.write('id,label\n')
for i in range(16281):
    sub.write(str(i+1)+','+str(fin[i])[:-2]+'\n')
sub.close()

